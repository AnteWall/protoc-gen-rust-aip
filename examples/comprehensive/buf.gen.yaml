version: v2
managed:
  enabled: true
  
plugins:
  # Generate prost types first
  - remote: buf.build/community/neoeinstein-prost:v0.4.0
    out: gen
    opt: 
      - bytes=.
      - file_descriptor_set=false
      
  # Generate resource name helpers
  - local: ../../target/debug/protoc-gen-rust-aip
    out: gen
    opt:
      - generate_extensions=true
      - file_suffix=_resources.rs
deps:
  - buf.build/googleapis/googleapis